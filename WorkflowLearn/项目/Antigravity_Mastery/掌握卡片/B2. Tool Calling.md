# 掌握卡片：B2. Tool Calling

## 🧠 我的理解
- **Tool Calling 本质**：从"告诉用户怎么做"到"直接操作"，让 AI 从"顾问"变成"执行者"
- **与 Agent Loop 的关系**：完成操作后检查结果，继续循环
- **风险意识**：提前设定边界、范围，避免访问越界或不可逆损失
- **控制策略**：限制工作目录、审核高风险命令、分步执行

## 🔗 类比挂钩
**"所有"是警铃**
- 看到模糊词汇（如"所有"、"全部"）要警觉
- 追问：范围是哪里？全硬盘？还是特定目录？

**"删除前先评估"**
- 让 Agent 预先读取项目，评估删除的影响
- 不只是删不删，还要考虑内容处理策略（保留/提炼）

## ⚠️ 常见误区
- **"Agent 很智能，不会出错"**：Agent 可能误解意图执行危险操作
- **"自动运行就是高效"**：效率与安全需要平衡
- **"我可以回滚"**：有些操作不可逆（删除 .git、发邮件）

## 🚫 我的错误记录
- （本节点无错误记录）

## 💡 验证高光

### 掌握验证：清理无用文件
**场景**：Agent 计划删除 node_modules、.git、*.log、build

**分析**：
- 不批准，"所有"是警铃
- 担心范围问题（全硬盘？特定目录？）
- **严重问题**：删除 .git 会彻底删除 Git 历史，不可逆！

**修改建议**：
1. 明确项目路径，路径之外不动
2. 删除前考虑内容处理策略
3. 让 Agent 预先读取项目评估影响

## 📖 源真理定义
> **Tool Calling**：Agent 通过调用外部工具（文件操作、终端命令、浏览器等）与真实世界交互。关键控制点：工具有边界（只能调用有权限的）、参数决定行为、返回值影响后续。PM 需要审核高风险操作，特别是破坏性、不可逆的命令。

## 🧱 关联知识
- **前置节点**：[[B1. Agent Loop]]
- **后置节点**：[[B3. Context管理]]
- **相关概念**：SafeToAutoRun, 工作目录限制, GEMINI.md配置

## 💪 实操挑战
已完成：清理无用文件场景分析（风险识别 + 修改建议）

---
status: mastered
mastered_date: 2026-01-11
review_count: 1
last_review: 2026-01-11
next_review: 2026-01-12
---
